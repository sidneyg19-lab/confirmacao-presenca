<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gerador de link WhatsApp</title>
  <style>
    :root {
      font-family: Inter, system-ui, Arial;
      margin: 0;
      padding: 0;
    }
    body {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      background: #f4f6f8;
      color: #111;
    }
    .card {
      width: 100%;
      max-width: 720px;
      background: #fff;
      padding: 24px;
      border-radius: 12px;
      box-shadow: 0 6px 24px rgba(12, 20, 40, 0.08);
    }

    /* Banner simulando o preview do WhatsApp */
    .whatsapp-preview {
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      border: 1px solid #e0e0e0;
      margin-bottom: 20px;
    }
    .whatsapp-header {
      background: #f0f0f0;
      text-align: center;
    }
    .whatsapp-header img {
      width: 100%;
      max-height: 180px;
      object-fit: cover;
      display: block;
    }
    .whatsapp-body {
      background: #f6fdf8;
      padding: 14px 16px;
    }
    .whatsapp-body h2 {
      margin: 0;
      font-size: 18px;
      color: #128C7E;
    }
    .whatsapp-body p {
      margin: 8px 0;
      font-size: 14px;
      color: #333;
      line-height: 1.4;
    }
    .whatsapp-body a {
      display: inline-block;
      color: #0b8a3e;
      word-break: break-all;
      text-decoration: none;
      font-size: 13px;
    }

    h1 {
      margin: 0 0 12px;
      font-size: 20px;
    }
    label {
      display: block;
      margin: 12px 0 6px;
      font-size: 13px;
    }
    input[type=text], textarea, select {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #d7dbe0;
      font-size: 14px;
    }
    .row {
      display: flex;
      gap: 12px;
    }
    .row > * { flex: 1; }
    button {
      padding: 10px 14px;
      border-radius: 10px;
      border: 0;
      background: #0b8a3e;
      color: #fff;
      font-weight: 600;
      cursor: pointer;
    }
    button.secondary { background: #2f3b4a; }
    .actions {
      display: flex;
      gap: 8px;
      margin-top: 14px;
    }
    .result {
      margin-top: 14px;
      padding: 12px;
      border-radius: 8px;
      background: #f1f6f3;
      border: 1px dashed #cfe9d6;
      word-break: break-all;
      white-space: pre-line;
    }
    .help {
      font-size: 13px;
      color: #556;
      margin-top: 6px;
    }
    .small {
      font-size: 12px;
      color: #666;
    }
  </style>
</head>
<body>
  <div class="card">
    <!-- SimulaÃ§Ã£o do preview do WhatsApp -->
    <div class="whatsapp-preview">
      <div class="whatsapp-header">
        <img src="WhatsApp Image 2025-11-10 at 12.38.59.jpeg" alt="Foto de casal">
      </div>
      <div class="whatsapp-body">
        <h2>Confirme sua presenÃ§a ðŸ’•</h2>
        <p>Pedimos que confirme sua presenÃ§a e o nÃºmero de pessoas para o casamento de Maria Gabrielly e Sidney atÃ© 01/12, para organizarmos tudo com muito carinho. SerÃ¡ uma alegria ter vocÃª conosco âœ¨</p>
        <a href="#">https://wa.me/</a>
      </div>
    </div>

    <h1>Gerador de link WhatsApp</h1>
    <p class="small">Crie mensagens com texto + link prontos para enviar no WhatsApp ðŸ’¬</p>

    <label for="country">CÃ³digo do paÃ­s</label>
    <input id="country" type="text" placeholder="Ex: 55 (Brasil)" value="55" />

    <label for="phone">NÃºmero (sem zeros, sem +, apenas nÃºmeros)</label>
    <input id="phone" type="text" placeholder="Ex: 61999999999" />

    <label for="message">Mensagem personalizada</label>
    <textarea id="message" rows="6">OlÃ¡! ðŸ’•  
Pedimos que confirme sua presenÃ§a e o nÃºmero de pessoas para o casamento de Maria Gabrielly e Sidney atÃ© 01/12, para organizarmos tudo com muito carinho.  
SerÃ¡ uma alegria ter vocÃª conosco. âœ¨  

Clique abaixo para confirmar sua presenÃ§a ðŸ‘‡</textarea>

    <div class="row" style="margin-top:8px">
      <button id="generate">Gerar mensagem</button>
      <button id="copy" class="secondary">Copiar tudo</button>
    </div>

    <div class="result" id="result">Nenhum link gerado ainda.</div>
  </div>

  <script>
    const country = document.getElementById('country');
    const phone = document.getElementById('phone');
    const message = document.getElementById('message');
    const generate = document.getElementById('generate');
    const copyBtn = document.getElementById('copy');
    const result = document.getElementById('result');

    function sanitizeNumber(cc, num){
      const cleanCc = (cc||'').replace(/\D/g,'');
      const cleanNum = (num||'').replace(/\D/g,'');
      return (cleanCc + cleanNum).replace(/^0+/,'');
    }

    function buildFullMessage(){
      const cc = country.value.trim();
      const num = phone.value.trim();
      const text = message.value.trim();
      const full = sanitizeNumber(cc, num);

      if(!/^[0-9]{6,15}$/.test(full)){
        return {error: 'NÃºmero invÃ¡lido. Verifique o cÃ³digo do paÃ­s e nÃºmero (apenas dÃ­gitos).'};
      }

      const encoded = encodeURIComponent("Eu confirmo! Vamos eu e minha famÃ­lia ðŸ’•");
      const link = `https://wa.me/${full}?text=${encoded}`;
      const fullMessage = `${text}\n\n${link}`;
      return {fullMessage, link};
    }

    generate.addEventListener('click', ()=>{
      const built = buildFullMessage();
      if(built.error){
        result.textContent = built.error;
        result.style.background = '#fff5f5';
        return;
      }
      result.textContent = built.fullMessage;
      result.style.background = '#f1f6f3';
    });

    copyBtn.addEventListener('click', async ()=>{
      const built = buildFullMessage();
      if(built.error){
        result.textContent = built.error;
        return;
      }
      try{
        await navigator.clipboard.writeText(built.fullMessage);
        result.textContent = 'Mensagem copiada! Cole no WhatsApp para enviar âœ…';
      }catch{
        result.textContent = 'NÃ£o foi possÃ­vel copiar automaticamente. Copie manualmente abaixo:\n\n' + built.fullMessage;
      }
    });
  </script>
</body>
</html>
